Police are trying to determine why a Washington state high school student shot dead a female classmate and wounded four others on Friday, before killing himself.On Saturday morning, Snohomish County sheriff’s spokeswoman Shari Ireton said in a statement that the on-scene investigation at Marysville-Pilchuck High School north of Seattle was finished and a 40-caliber handgun had been recovered. Ireton said it was believed the gun was the weapon used in the shooting.Detectives confirmed that a cafeteria worker had attempted to intervene in shooting, but Ireton provided no other details about the worker’s actions.The shooter, identified by a school official as Jaylen Fryberg, was a homecoming prince at Marysville-Pilchuck high school north of Seattle. He was described by classmates and parents as a popular member of both the wrestling and football teams.Fellow student Jordan Luton told CNN: “He came up from behind and had a gun in his hand and he fired about eight bullets ... They were his friends so it wasn’t just random.”All of the victims of the shooting were under 18, and three were in critical condition with gunshot wounds to the head. The fourth suffered less serious injuries. There were suggestions from fellow students that Fryberg had been involved in a dispute with one of the male students he shot over the affections of a girl.Reports said the two boys – Andrew Fryberg, 15, and 14-year-old Nate Hatch – were both cousins of the shooter, who died after turning the gun on himself.On Tuesday, Fryberg tweeted expressions of despondency about the apparent rejection by the female student. “It breaks me... It actually does... I know it seems like I’m sweating it off... But I’m not... And I never will be able to,” he wrote.He was from a prominent family in the Tulalip Native American tribe in the area.Shaylee Bass, 15, a student at Marysville-Pilchuck, said Fryberg was not violent: “His family is known all around town. He was very well known. That’s what makes it so bizarre.”Some reports said he had been suspended from the football team, possibly because of a fight with a fellow player, and had been bullied, possibly over his Native American heritage. Marysville-Pilchuck has a number of students from the Tulalip tribe.Shortly after the shootings an alarm sounded, prompting some students to initially think it was a fire drill. Authorities placed the school in lockdown as police raced to the scene and sealed off the area to ensure there were no other gunmen or casualties.Brian Patrick said his daughter was 10ft from Fryberg when he began shooting. She told him: “The guy walked into the cafeteria, pulled out a gun and started shooting. No arguing, no yelling.”Isabella MacKeige, 18, was having lunch with a friend when they heard gunshots behind them. “I heard six shots go off and I turned and saw people diving under the tables,” she said. “I left my backpack, my phone and my purse and got out the door as fast as I could.” Some students were injured in the stampede to leave the cafeteria.Hundreds of parents, students and community members attended an emotional vigil at a local church on Friday night.Police did not say what kind of weapon Fryberg had used, but reports suggested that Fryberg used a .40-calibre Beretta handgun. A firearms official said it had been legally acquired.