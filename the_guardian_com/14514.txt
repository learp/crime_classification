A teenager has admitted killing a gay barman and then setting his body alight after he flew into a rage when they discussed his confused sexuality.Ryan Esquierdo, 19, attacked Stuart Walker, 28, and choked him to death after the pair had met one night while they were separately walking home in Cumnock, East Ayrshire, in October last year.Esquierdo confessed that he had fallen into an "uncontrollable rage" after Walker, who worked in a local hotel bar, had tried to comfort him after he admitted being unsure about his sexuality. The two men then had sexual relations in a local industrial estate, sparking off a violent, sustained attack on Walker by Esquierdo, who then set Walker's body alight to conceal the evidence and then lied to police about the attack.The case shocked and unnerved the town, raising fears Walker was the victim of a homophobic murder; at the time, the police refused to disclose many details about his death.Further details about the circumstances surrounding Walker's death emerged at Glasgow high court on Thursday after Esquierdo entered a plea on a reduced charge of culpable homicide and attempting to defeat the cause of justice.The prosecution accepted the plea, reducing the charge from murder, after hearing that Esquierdo had been suffering from post-traumatic disorder at the time after suffering abuse as a child. He will be sentenced next month.The two men had met by chance that night as they were each returning home. Esquierdo was lying on a wall apparently asleep when Walker woke him.Andrew Brown QC, for the prosecution, said they discussed Esquierdo's sexuality. He had had girlfriends but his sexuality was a topic of conversation among his friends. "Stuart Walker was only sympathetic with (Esquierdo's) conflicted position," Brown told the court. "The accused described feeling safe talking to Mr Walker."But after they had sexual relations, Esquierdo became unhappy and started to panic. Brown told Judge Rita Rae that Esquierdo had been abused as a boy and experienced flashbacks as he and Walker embraced. It triggered an "uncontrollable rage" within the teenager, leading to "extreme and explosive violence" against Walker.Brown added: "The deceased would have had no warning or sense of what was going to happen."The court heard that Esquierdo texted a friend, Mary-Ann Dykes, claiming that he and Walker had both been victims of a violent attack. After Dykes came across Walker's body, the police were called and Esquierdo again claimed he had been attacked by others.Derek Ogg QC, defending, said the killing was "not a gay hate crime" and was instead "far more complex than that". Ogg said: "I would like to place on record Ryan Esquierdo's utter bafflement and horror that he could inflict such violence."