Here’s a cautionary tale about the future of the internet: an over three-hour outage in an obscure, if tremendously profitable, wing of online retailer Amazon resulted not only in websites such as Medium and Business Insider failing, but also in people unable to turn on their lights.This outage affected Amazon Web Services (AWS), an Amazon subsidiary that provides cloud computing services to other businesses. If you’ve ever been told something is stored or run “in the cloud”, the likelihood is that it was in servers owned by Amazon – or by similar services provided by its two main competitors, Microsoft and Google.When that model works, it works brilliantly, providing low barrier to entry for small firms needing an online presence, economies of scale for larger companies warning world-class hosting – and huge profits for Amazon itself. In the last year, thecompany has pulled in profit of $2.4bn overall, but AWS alone made a profit of $3.1bn (the missing billions are a result of how much money the company continues to lose in international sales).When it doesn’t work, everything comes crashing down. Subscribers, and the wider web, first got a hint that something was up around 6pm UK time, as glitches began to hit websites and apps that use Amazon’s cloud storage and computing. It took slightly longer than might be expected when a huge tranche of the net collapses simultaneously for the common cause to be diagnosed, though.In part, that’s because Amazon’s data centres are distributed around the world. Only its “US East” region, based in north Virginia, was hit, sparing customers – like the Guardian – who use their cloud services elsewhere in the world. (The majority of the Guardian’s use of AWS, for distributed publishing tools, is based in Amazon’s Dublin centre; some interactive visuals were hosted from Virginia, however, leading to downtime and delays).The US-East region does contain some of the company’s most visible customers, however, in part because it’s the natural region for America’s largely east coast-based publishing industry. It also contains a couple of other customers which helped hide the scale of the outage for many: downtime-monitoring service downforeveryoneorjustme.com, which lets users see whether a particular site is offline or not, was down for everyone.Worse still, Amazon’s own monitoring tools were broken. The company’s Service Health Dashboard reported everything fine across the board, until engineers managed to fix the first problem of the day and update the system to display the many, many other problems ongoing.A short internet outage might sound like a trifling matter – don’t we all need a little bit of time offline now and then? – but for many, the pervasiveness of the so-called “internet of things” meant downtime at Amazon affected their physical life as well as their digital one.Ifttt, a website which allows users to link together services from multiple providers into one seamless operation, was one of the Amazon customers knocked offline by the outage. For some, that simply meant that their workflows were disrupted, with emails not being forwarded or weather summaries not being automatically emailed.For others, that meant slightly more drastic problems: “smart home” owners reported losing control of their houses after the jury-rigged system they used to control internet-connected locks and light bulbs failed.Stuart Thomas (@stuartthomas)Mmm. Can’t turn some of my lights on at home cos @IFTTT is down. Welcome to the future!@internetofshit pic.twitter.com/CPw0rGaKR5February 28, 2017As Amazon Web Services, and its cloud-computing competitors, have grown larger, some have asked whether their sheer scale is posing a threat to the stability of the internet itself.What began as a military-hardened network, designed to be able to continue running if any one node was taken offline, now has a growing proportion of its traffic running through the servers of just three multinational companies. If one error at one Amazon data centre can affect so many huge customers, it’s worth thinking what a systemic failure over the whole network could do.Amazon, of course, argues otherwise. For one thing, they point out, the company’s actual uptime is very good: S3, its storage service, promises 99.99% accessibility, and gives refunds to customers when it fails to meet that goal. Given that promise translates to 53 minutes downtime a year, it looks like Amazon will be handing out a lot of vouchers. But even with this outage taken into account, Amazon’s cloud is far more stable than what the majority of its customers could build on their own.The issue isn’t total downtime, but the fact that it all comes at once, leaving end users less with the feeling that one specific website is unavailable, and more concerned that the internet as a whole may be about to collapse.But, although it may have felt like that to diehard Ifttt users unable to switch their lights on using a text message, it’s worth remembering that Amazon may be a big fish, but the internet is a huge ocean. The company pulls in around $10bn from cloud computing customers, in a market that is worth more than $3tn worldwide: there’s a lot more internet out there than Amazon is in charge of. For now, at least.Amazon Web Services: the secret to the online retailer’s future success